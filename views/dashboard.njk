{% extends "base.njk" %}

{% block main %}
  <div class="container is-fluid">
    <div class="columns mb-0 is-relative">
      <div class="column is-aside is-2-desktop">
        {% include "partials/aside.njk" %}
      </div>
      <div class="column mb-4 is-10">
        <h1 class="is-size-3 is-size-4-mobile mb-4">Hoş Geldin {{userName}}.</h1>
        <div class="notification is-warning mt-2 gps-notify">
          <h4 class="is-title is-size-4 gps-info">Konum bilgileri bekleniyor...</h4>
          <p>Bazı özellikler konum izni verildikten sonra etkinleşecek.</p>
          <small>(Tekrar denemek için bu alana dokunun.<span class="gps-notify-no-dialog-text"> Eğer izin penceresi görünmüyor ise tarayıcı ayarlarından açın.</span>)</small>
        </div>
        <div class="columns is-multiline">
          <div class="column is-4 is-flex-grow-1">
            {% include "partials/weatherCard.njk" %}
          </div>
          <div class="column is-4 is-flex-grow-1">
            <div class="card is-flex is-flex-direction-column is-height-full is-clipped">
              <header class="card-header">
                <p class="card-header-title">Konum</p>
              </header>
              <div class="card-content is-relative is-height-full is-flex is-justify-content-center is-align-items-center">
                <div class="content has-text-centered">
                  <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" fill="currentColor">
                    <path d="M24 33.1Q29.2 28.9 31.85 25.025Q34.5 21.15 34.5 17.8Q34.5 14.85 33.425 12.8Q32.35 10.75 30.775 9.45Q29.2 8.15 27.35 7.575Q25.5 7 24 7Q22.5 7 20.65 7.575Q18.8 8.15 17.225 9.45Q15.65 10.75 14.575 12.8Q13.5 14.85 13.5 17.8Q13.5 21.15 16.15 25.025Q18.8 28.9 24 33.1ZM24 36.9Q17.15 31.75 13.825 27.05Q10.5 22.35 10.5 17.8Q10.5 14.4 11.725 11.825Q12.95 9.25 14.9 7.5Q16.85 5.75 19.25 4.875Q21.65 4 24 4Q26.35 4 28.75 4.875Q31.15 5.75 33.1 7.5Q35.05 9.25 36.275 11.825Q37.5 14.4 37.5 17.8Q37.5 22.35 34.175 27.05Q30.85 31.75 24 36.9ZM24 21Q25.45 21 26.475 19.975Q27.5 18.95 27.5 17.5Q27.5 16.05 26.475 15.025Q25.45 14 24 14Q22.55 14 21.525 15.025Q20.5 16.05 20.5 17.5Q20.5 18.95 21.525 19.975Q22.55 21 24 21ZM10.5 44V41H37.5V44ZM24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Q24 17.8 24 17.8Z"/>
                  </svg>
                  <h3 class="title is-size3 location-name"></h3>
                  <div class="no-gps-overlay is-overlay">
                    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" class="has-text-danger" fill="currentColor">
                      <path d="M26.6 22.3 21.7 17.4Q22.15 17 22.725 16.75Q23.3 16.5 24 16.5Q25.45 16.5 26.475 17.525Q27.5 18.55 27.5 20Q27.5 20.7 27.25 21.275Q27 21.85 26.6 22.3ZM41.65 45.95 32 36.3Q30.35 38.15 28.375 40.075Q26.4 42 24 44Q15.95 37.15 11.975 31.275Q8 25.4 8 20.4Q8 18.5 8.35 16.825Q8.7 15.15 9.35 13.65L1.3 5.6L3.45 3.45L43.8 43.8ZM35.85 31.55Q37.95 28.5 38.975 25.725Q40 22.95 40 20.4Q40 12.9 35.175 8.45Q30.35 4 24 4Q20.85 4 17.95 5.15Q15.05 6.3 12.8 8.5L14.9 10.6Q16.65 8.9 18.975 7.95Q21.3 7 24 7Q29.45 7 33.225 10.75Q37 14.5 37 20.4Q37 22.3 36.175 24.55Q35.35 26.8 33.65 29.35ZM24 40.05Q25.7 38.5 27.15 37.05Q28.6 35.6 29.85 34.15L11.65 15.95Q11.35 17 11.175 18.1Q11 19.2 11 20.4Q11 24.15 14.25 29.075Q17.5 34 24 40.05ZM20.75 25.05Q20.75 25.05 20.75 25.05Q20.75 25.05 20.75 25.05Q20.75 25.05 20.75 25.05Q20.75 25.05 20.75 25.05Q20.75 25.05 20.75 25.05Q20.75 25.05 20.75 25.05ZM24.3 20Q24.3 20 24.3 20Q24.3 20 24.3 20Q24.3 20 24.3 20Q24.3 20 24.3 20Q24.3 20 24.3 20Q24.3 20 24.3 20Z"/>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="column is-12-mobile is-4-hd is-4-fullhd">
            {% include "partials/vanillaCalendarCard.njk" %}
          </div>
        </div>
        {% include "partials/addProductCard.njk" %}
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
  <script>
    const ililce = {{ ililce | dump | safe }};
    const weatherApiKey = "80c2bfd5cb00513cda53438b07812c71";
    vanillaCalendar.init({ disablePastDays: false });
    initHome();
  </script>
{% endblock %}